---
import DocsLayout from "../../layouts/DocsLayout.astro"
import { getCollection } from 'astro:content'
import { collectionNames } from "../../lib/collections"

export async function getStaticPaths() {
  const exercises = await getCollection(collectionNames.exercises)
  return exercises.map((exercise) => ({
    params: { slug: exercise.slug },
    props: { entry: exercise },
  }))
}

const { entry } = Astro.props
const { Content } = await entry.render()
---
<DocsLayout title={entry.data.title} description={entry.data.prompt}>
  <h1 class="text-2xl font-bold mb-2">{entry.data.title}</h1>
  {entry.data.prompt && <p class="text-gray-600 mb-6">{entry.data.prompt}</p>}
  <div class="prose prose-gray max-w-none">
    <Content />
  </div>
</DocsLayout>
